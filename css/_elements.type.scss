/*------------------------------------*\
    #TYPE
\*------------------------------------*/

/**
 * Typographical base selectors.
 */

/**
 * Headings 1â€“6.
 */
@include headings() {
    @include font-weight(light);
    color: $color-headings;
    text-wrap: balance;
}

h1 {

  @include media-query(lap-and-up) {
    @include font-size(72px);
    font-weight: 900;
    border-left: $spacing-unit solid $color-brand;
    border-radius: $base-round;
    margin-left: -($spacing-unit + $spacing-unit--small);
    padding-left: $spacing-unit--small;
  }

}





/**
 * On pages like /testimonials/, the content of H2s are IMGs which are set to
 * 48px height (two baseline grids). As a result, the H2 itself needs its
 * `line-height` effectively unsetting, letting the IMG do the work instead.
 */
h2:has(> img) {
  line-height: 1;
}





/**
 * A generic heading style which can be applied to any headings.
 */
.heading {
    display: block;
    @include font-size(22px);
    color: $color-headings;
}

.heading-sub {
    display: block;
    @include font-size(16px);
    @include font-weight(bold);
    margin-bottom: 0;
    color: $color-heading-sub;
}





/**
 * Emboldened elements.
 */
a,
strong, b,
dt {
    @include font-weight(bold);
}





/**
 * Paragraphs
 *
 * 1. Avoid orphans.
 */
p {
  text-wrap: pretty; /* [1] */
}





/**
 * Code-like elements.
 */
code, kbd, samp, output {
    color: $color-code;
    font-family: "Operator Mono", ui-monospace, monospace;
    font-style: normal;
    word-break: break-word;

    a:hover &, a:active &, a:focus & {
      text-decoration: underline;
    }

}

pre {
    white-space: pre;
    word-wrap: normal;
    overflow: auto;
    padding: $spacing-unit--small;
    background-color: $color-pre-background;
    border-radius: $base-round;

    @include media-query(lap-and-up) {
      margin-right: -$spacing-unit--small;
      margin-left:  -$spacing-unit--small;
    }

    &,
    code, kbd, samp {
        color: $color-pre;
        word-break: keep-all;
    }

    li & {
      margin-top: 1.5rem;
    }

}

var {
  font-family: Hoefler Text, Georgia, serif;
  line-height: 1;
  font-style: italic;
}





/**
 * Figures.
 *
 * 1. Outdent figures by an arbitrary amount at the relevant viewport size.
 * 2. Reindent figcaptions.
 */
figure {
  counter-increment: figure;

    @media screen and (min-width: 1380px) {
        margin-left: -128px; /* [1] */
    }

    > img {
        border-radius: $base-round;
    }

}

    figcaption {
        @include font-size(12px);

        @media screen and (min-width: 1380px) {
            margin-left: 128px; /* [2] */
        }

        &::before {
          content: "Fig. " counter(figure) ": ";
          font-weight: bold;
        }

    }





/**
 * Horizontal rules.
 */
hr {
    border: none;
    border-bottom: 1px solid $color-gray-ui;
    margin-bottom: $spacing-unit - 1px;

    .s-post & {

      @media screen and (min-width: 1380px) {
        margin-left: -128px;
        margin-top:    3 * ($spacing-unit);
        margin-bottom: 3 * ($spacing-unit) - 1px;
      }

    }
}





/**
 * Highlighted text.
 *
 * 1. Strip browser default `mark` styling.
 * 2. Weâ€™re `color`-agnostic now.
 * 3. Wavy underline derived from the font itself; color is hard-coded based on
 *    the average colour of the emoji.
 * 4. Show underline behind descendersâ€”donâ€™t interrupt.
 * 5. Add pointing finger emoji before and after the marked text:
 *    `\00a0` is a non-breaking space which prevents the emoji from becoming
 *    a widow or orphan.
 */

mark {
  background-color: transparent; /* [1] */
  color: inherit; /* [2] */
  text-decoration: from-font #ffd048 wavy underline; /* [3] */
  text-decoration-skip-ink: none; /* [4] */

  &::before {
    content: "ðŸ‘‰\00a0"; /* [5] */
  }

  &::after {
    content: "\00a0ðŸ‘ˆ"; /* [5] */
  }

}





/**
 * Text-alignment.
 */
.text-banner {
    text-align: center;
    text-wrap: balance;
}





/**
 * Inserted and deleted text.
 */
s, del {
  opacity: 0.75;
}

ins {
  border-bottom: none;
  background-color: $color-hilite;
}
