<script>performance.mark('headStart');</script>
<meta charset=UTF-8>
<meta name=viewport content="width=device-width, minimum-scale=1.0">

<title>{{ page.title }} {{ site.description }}</title>

{% comment %}
<!--
  - Preemptively open up connections for external assets (Twitter widgets etc).
  - Only needed on pages with sidebars (i.e. non-feature pages).
  -->
{% endcomment %}
{% if page.layout != "feature" %}
<link rel=preconnect href=https://res.cloudinary.com>
<link rel=preconnect href=https://cdn.carbonads.com>
<link rel=preconnect href=https://srv.carbonads.net>
<link rel=preconnect href=https://cdn.syndication.twimg.com>
<link rel=preconnect href=https://syndication.twitter.com>
{% endif %}

{% if page.page-class == "page--services  page--workshops" or page.page-class == "page--services  page--downloads" %}
<link rel=preconnect href=https://gumroad.com>
{% endif %}

{% if page.page-class == "page--services  page--speaking" %}
<link rel=preconnect href=https://www.youtube.com>
{% endif %}

<link rel=preconnect href=https://csswizardry.com crossorigin>

<script>
  LUX=(function(){var a=("undefined"!==typeof(LUX)&&"undefined"!==typeof(LUX.gaMarks)?LUX.gaMarks:[]);var d=("undefined"!==typeof(LUX)&&"undefined"!==typeof(LUX.gaMeasures)?LUX.gaMeasures:[]);var j="LUX_start";var k=window.performance;var l=("undefined"!==typeof(LUX)&&LUX.ns?LUX.ns:(Date.now?Date.now():+(new Date())));if(k&&k.timing&&k.timing.navigationStart){l=k.timing.navigationStart}function f(){if(k&&k.now){return k.now()}var o=Date.now?Date.now():+(new Date());return o-l}function b(n){if(k){if(k.mark){return k.mark(n)}else{if(k.webkitMark){return k.webkitMark(n)}}}a.push({name:n,entryType:"mark",startTime:f(),duration:0});return}function m(p,t,n){if("undefined"===typeof(t)&&h(j)){t=j}if(k){if(k.measure){if(t){if(n){return k.measure(p,t,n)}else{return k.measure(p,t)}}else{return k.measure(p)}}else{if(k.webkitMeasure){return k.webkitMeasure(p,t,n)}}}var r=0,o=f();if(t){var s=h(t);if(s){r=s.startTime}else{if(k&&k.timing&&k.timing[t]){r=k.timing[t]-k.timing.navigationStart}else{return}}}if(n){var q=h(n);if(q){o=q.startTime}else{if(k&&k.timing&&k.timing[n]){o=k.timing[n]-k.timing.navigationStart}else{return}}}d.push({name:p,entryType:"measure",startTime:r,duration:(o-r)});return}function h(n){return c(n,g())}function c(p,o){for(i=o.length-1;i>=0;i--){var n=o[i];if(p===n.name){return n}}return undefined}function g(){if(k){if(k.getEntriesByType){return k.getEntriesByType("mark")}else{if(k.webkitGetEntriesByType){return k.webkitGetEntriesByType("mark")}}}return a}return{mark:b,measure:m,gaMarks:a,gaMeasures:d}})();LUX.ns=(Date.now?Date.now():+(new Date()));LUX.ac=[];LUX.cmd=function(a){LUX.ac.push(a)};LUX.init=function(){LUX.cmd(["init"])};LUX.send=function(){LUX.cmd(["send"])};LUX.addData=function(a,b){LUX.cmd(["addData",a,b])};LUX_ae=[];window.addEventListener("error",function(a){LUX_ae.push(a)});LUX_al=[];if("function"===typeof(PerformanceObserver)&&"function"===typeof(PerformanceLongTaskTiming)){var LongTaskObserver=new PerformanceObserver(function(c){var b=c.getEntries();for(var a=0;a<b.length;a++){var d=b[a];LUX_al.push(d)}});try{LongTaskObserver.observe({type:["longtask"]})}catch(e){}};
  LUX = window.LUX || {};
  LUX.samplerate = 100;
  {% if page.lux %}
    LUX.label = '{{ page.lux }}';
  {% endif %}
  {% if layout.lux %}
    LUX.label = '{{ layout.lux }}';
  {% endif %}
</script>

<script>
  (function(t,e,n,r){function a(){return e&&e.now?e.now():null}if(!n.version){n._events=[];n._errors=[];n._metadata={};n._urlGroup=null;window.RM=n;n.install=function(e){n._options=e;var a=t.createElement("script");a.async=true;a.crossOrigin="anonymous";a.src=r;var o=t.getElementsByTagName("script")[0];o.parentNode.insertBefore(a,o)};n.identify=function(t,e){n._userId=t;n._identifyOptions=e};n.sendEvent=function(t,e){n._events.push({eventName:t,metadata:e,time:a()})};n.setUrlGroup=function(t){n._urlGroup=t};n.track=function(t,e){n._errors.push({error:t,metadata:e,time:a()})};n.addMetadata=function(t){n._metadata=Object.assign(n._metadata,t)}}})(document,window.performance,window.RM||{},"https://cdn.requestmetrics.com/agent/current/rm.js");
  RM.install({
    token: "j5ss3vj:q7xf9tv"
  });
</script>

<script>performance.mark('cssStart');</script>
<style>

  {% include css/csswizardry.min.css %}

  {% if page.layout == "post" %}
    {% include css/components.syntax.css %}
  {% endif %}

</style>
<script>
  performance.mark('cssEnd');
  performance.measure('cssTime', 'cssStart', 'cssEnd');
</script>

<script src="https://www.googletagmanager.com/gtag/js?id=G-DNCL1RY4GT" async></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-DNCL1RY4GT');
</script>

<script src=https://cdn.speedcurve.com/js/lux.js?id=47684395 defer></script>

{% if page.layout != "feature" %}
<script src=https://platform.twitter.com/widgets.js defer></script>
{% endif %}
{% if page.page-class == "page--services  page--workshops" %}
<script src=https://gumroad.com/js/gumroad.js defer></script>
{% endif %}
{% if page.page-class == "page--services  page--downloads" %}
<script src=https://gumroad.com/js/gumroad-embed.js defer></script>
{% endif %}

{% if page.page-class == "page--home" %}
<link rel=preload href=/img/css/masthead-small-lqip.jpg  as=image media="(max-width: 44.9375em)"                       fetchpriority=high>
<link rel=preload href=/img/css/masthead-medium-lqip.jpg as=image media="(min-width: 45em) and (max-width: 63.9375em)" fetchpriority=high>
<link rel=preload href=/img/css/masthead-large-lqip.jpg  as=image media="(min-width: 64em)"                            fetchpriority=high>
{% endif %}

<meta name=author content="Harry Roberts">
<meta name=twitter:card content=summary_large_image>
<meta name=twitter:site content=@csswizardry>
<meta name=twitter:domain content=csswizardry.com>
<meta name=twitter:creator content=@csswizardry>
<meta property=og:type content=website>
<meta name=twitter:title property=og:title content="{{ page.title }} â€“ CSS Wizardry">
{% if page.meta %}
<meta name=twitter:description property=og:description content="{{ page.meta }}">
{% endif %}
{% if page.main %}
<meta name=twitter:image property=og:image content="{{ page.main }}">
{% else %}
<meta name=twitter:image property=og:image content=https://csswizardry.com/img/css/masthead-small.jpg>
{% endif %}

<link rel=alternate type=application/atom+xml href=https://csswizardry.com/feed.xml>

<link rel=icon href=/icon.png>
<link rel=apple-touch-icon href=/icon.png>
<meta name=apple-mobile-web-app-title content=csswizardry>
{% if page.meta %}
  <meta name=description content="{{ page.meta }}">
{% endif %}
<link rel=canonical href="{{ page.url | replace:'index.html','' | prepend: site.baseurl | prepend: site.url }}">
<meta property=og:url content="{{ page.url | replace:'index.html','' | prepend: site.baseurl | prepend: site.url }}">
<meta name=theme-color content=#f43059>
<link rel=manifest href=/manifest.json>

<meta name=format-detection content="telephone=no">

<meta name="robots" content="max-image-preview:large">

{% if page.layout == "post" %}
  <meta name=robots content="noai, noimageai">
{% endif %}

{% if page.indexable == false %}
  <meta name=robots content=noindex>
{% endif %}

<script>
  performance.mark('headEnd');
  performance.measure('headTime', 'headStart', 'headEnd');
</script>
