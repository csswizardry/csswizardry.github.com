<head>
<script>performance.mark('HEAD Start');</script>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, minimum-scale=1.0">

<title>{{ page.title }} &ndash; CSS Wizardry &ndash; Web Performance Optimisation</title>

{% if page.page-class == "page--home" %}
{% comment %}
<!--
  - Fire off masthead download nice and early.
  - Only needed on homepage.
  -->
{% endcomment %}
<link rel="preload" href="/img/css/masthead.4c100a13.jpg" as="image" media="(max-width: 44.9375em)">
<link rel="preload" href="/img/css/masthead-medium.e55920c9.jpg" as="image" media="(min-width: 45em) and (max-width: 63.9375em)">
<link rel="preload" href="/img/css/masthead-large.3cbc4956.jpg" as="image" media="(min-width: 64em)">
{% endif %}

{% comment %}
<!--
  - Preemptively open up connections for external assets (Twitter widgets etc).
  - Only needed on pages with sidebars (i.e. non-feature pages).
  -->
{% endcomment %}
{% if page.layout != "feature" %}
<link rel="preconnect" href="https://res.cloudinary.com">
<link rel="preconnect" href="https://cdn.carbonads.com">
<link rel="preconnect" href="https://srv.carbonads.net">
<link rel="preconnect" href="https://cdn.syndication.twimg.com">
<link rel="preconnect" href="https://platform.twitter.com">
<link rel="preconnect" href="https://syndication.twitter.com">
{% endif %}

{% if page.page-class == "page--services  page--workshops" or page.page-class == "page--services  page--downloads" %}
<link rel="preconnect" href="https://gumroad.com">
{% endif %}

{% if page.page-class == "page--services  page--speaking" %}
<link rel="preconnect" href="https://www.youtube.com">
<link rel="prerender" href="https://www.youtube.com/embed/cXLOIIJ1UaE">
{% endif %}

<link rel="preconnect" href="https://csswizardry.com" crossorigin>
<link rel="preconnect" href="https://cdn.speedcurve.com">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://instant.page">

<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-1856861-4', {'siteSpeedSampleRate': 100});
ga('send', 'pageview');
</script>

<script>
  LUX=(function(){var a=("undefined"!==typeof(LUX)&&"undefined"!==typeof(LUX.gaMarks)?LUX.gaMarks:[]);var d=("undefined"!==typeof(LUX)&&"undefined"!==typeof(LUX.gaMeasures)?LUX.gaMeasures:[]);var j="LUX_start";var k=window.performance;var l=("undefined"!==typeof(LUX)&&LUX.ns?LUX.ns:(Date.now?Date.now():+(new Date())));if(k&&k.timing&&k.timing.navigationStart){l=k.timing.navigationStart}function f(){if(k&&k.now){return k.now()}var o=Date.now?Date.now():+(new Date());return o-l}function b(n){if(k){if(k.mark){return k.mark(n)}else{if(k.webkitMark){return k.webkitMark(n)}}}a.push({name:n,entryType:"mark",startTime:f(),duration:0});return}function m(p,t,n){if("undefined"===typeof(t)&&h(j)){t=j}if(k){if(k.measure){if(t){if(n){return k.measure(p,t,n)}else{return k.measure(p,t)}}else{return k.measure(p)}}else{if(k.webkitMeasure){return k.webkitMeasure(p,t,n)}}}var r=0,o=f();if(t){var s=h(t);if(s){r=s.startTime}else{if(k&&k.timing&&k.timing[t]){r=k.timing[t]-k.timing.navigationStart}else{return}}}if(n){var q=h(n);if(q){o=q.startTime}else{if(k&&k.timing&&k.timing[n]){o=k.timing[n]-k.timing.navigationStart}else{return}}}d.push({name:p,entryType:"measure",startTime:r,duration:(o-r)});return}function h(n){return c(n,g())}function c(p,o){for(i=o.length-1;i>=0;i--){var n=o[i];if(p===n.name){return n}}return undefined}function g(){if(k){if(k.getEntriesByType){return k.getEntriesByType("mark")}else{if(k.webkitGetEntriesByType){return k.webkitGetEntriesByType("mark")}}}return a}return{mark:b,measure:m,gaMarks:a,gaMeasures:d}})();LUX.ns=(Date.now?Date.now():+(new Date()));LUX.ac=[];LUX.cmd=function(a){LUX.ac.push(a)};LUX.init=function(){LUX.cmd(["init"])};LUX.send=function(){LUX.cmd(["send"])};LUX.addData=function(a,b){LUX.cmd(["addData",a,b])};LUX_ae=[];window.addEventListener("error",function(a){LUX_ae.push(a)});LUX_al=[];if("function"===typeof(PerformanceObserver)&&"function"===typeof(PerformanceLongTaskTiming)){var LongTaskObserver=new PerformanceObserver(function(c){var b=c.getEntries();for(var a=0;a<b.length;a++){var d=b[a];LUX_al.push(d)}});try{LongTaskObserver.observe({type:["longtask"]})}catch(e){}};
  LUX = window.LUX || {};
  LUX.samplerate = 100;
  {% if page.lux %}
  LUX.label = '{{ page.lux }}';
  {% endif %}
  {% if layout.lux %}
  LUX.label = '{{ layout.lux }}';
  {% endif %}
</script>

<script>performance.mark('CSS Start');</script>
<style>

  {% include css/csswizardry.min.css %}

  {% if page.layout == "post" %}
    {% include css/components.syntax.css %}
  {% endif %}

</style>
<script>
  performance.mark('CSS End');
  performance.measure('CSS Time', 'CSS Start', 'CSS End');
</script>

<script src="https://www.google-analytics.com/analytics.js" async></script>

<script src="https://cdn.speedcurve.com/js/lux.js?id=47684395" defer></script>

{% if page.layout != "feature" %}
<script src="https://platform.twitter.com/widgets.js" defer></script>
{% endif %}
{% if page.page-class == "page--services  page--workshops" %}
<script src="https://gumroad.com/js/gumroad.js" defer></script>
{% endif %}
{% if page.page-class == "page--services  page--downloads" %}
<script src="https://gumroad.com/js/gumroad-embed.js" defer></script>
{% endif %}

<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@csswizardry">
<meta name="twitter:domain" content="csswizardry.com">
<meta name="twitter:creator" content="@csswizardry">
<meta name="twitter:title" content="{{ page.title }} â€“ CSS Wizardry">
<meta name="twitter:image" content="https://csswizardry.com/logo.png">
{% if page.meta %}
    <meta name="twitter:description" content="{{ page.meta }}">
{% endif %}

<link rel="alternate" type="application/atom+xml" href="https://feeds.feedburner.com/csswizardry">

<link rel="shortcut icon" href="/icon.png">
<link rel="apple-touch-icon" href="/icon.png">
<meta name="apple-mobile-web-app-title" content="csswizardry">
{% if page.meta %}
  <meta name="description" content="{{ page.meta }}">
{% endif %}
<link rel="canonical" href="{{ page.url | replace:'index.html','' | prepend: site.baseurl | prepend: site.url }}">
<meta name="theme-color" content="#f43059">
<link rel="manifest" href="/manifest.json">

{% if page.previous.url %}
  <link rel="prerender" href="{{page.previous.url}}" />
{% endif %}
{% if page.next.url %}
  <link rel="prerender" href="{{page.next.url}}" />
{% endif %}

<script>
  performance.mark('HEAD End');
  performance.measure('HEAD Time', 'HEAD Start', 'HEAD End');
</script>

</head>
